{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { Button, Input, Text } from 'react-native-elements';\nimport { FontAwesome } from '@expo/vector-icons';\nexport function HomeScreen(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      pseudo = _useState2[0],\n      setPseudo = _useState2[1];\n\n  useEffect(function () {\n    var welcome = function welcome() {\n      if (pseudo == AsyncStorage.getItem('pseudo', function (error, data) {\n        setPseudo(data);\n      })) {\n        return React.createElement(Text, null, \"Welcome back \", pseudo);\n      } else {\n        return React.createElement(Input, {\n          placeholder: \"John\",\n          leftIcon: {\n            type: 'font-awesome',\n            name: 'user',\n            color: '#eb4d4b'\n          },\n          containerStyle: styles.input,\n          onChangeText: function onChangeText(value) {\n            return setPseudo(value);\n          }\n        });\n      }\n    };\n  }, []);\n\n  var welcome = function welcome() {\n    if (pseudo == AsyncStorage.getItem('pseudo', function (error, data) {\n      setPseudo(data);\n    })) {\n      return React.createElement(Text, null, \"Welcome back \", pseudo);\n    } else {\n      return React.createElement(Input, {\n        placeholder: \"John\",\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'user',\n          color: '#eb4d4b'\n        },\n        containerStyle: styles.input,\n        onChangeText: function onChangeText(value) {\n          return setPseudo(value);\n        }\n      });\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(ImageBackground, {\n    source: require(\"../assets/home.jpg\"),\n    style: styles.image\n  }, React.createElement(Button, {\n    buttonStyle: styles.button,\n    icon: React.createElement(FontAwesome, {\n      name: \"arrow-right\",\n      size: 20,\n      color: \"#eb4d4b\",\n      style: {\n        marginRight: 5\n      }\n    }),\n    title: \"Go to Map\",\n    onPress: function onPress() {\n      props.onSubmitPseudo(pseudo);\n      props.navigation.navigate('TabNavigator', {\n        screen: 'Map'\n      }), AsyncStorage.setItem(\"pseudo\", pseudo);\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    flex: 1,\n    justifyContent: 'center',\n    height: '100%',\n    width: '100%',\n    resizeMode: 'cover'\n  },\n  button: {\n    width: 140,\n    alignSelf: 'center',\n    borderRadius: 20\n  },\n  input: {\n    color: '#fff',\n    width: '70%',\n    alignSelf: 'center'\n  }\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onSubmitPseudo: function onSubmitPseudo(pseudo) {\n      dispatch({\n        type: 'savePseudo',\n        pseudo: pseudo\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(HomeScreen);","map":{"version":3,"sources":["/Users/baptistehauville/Desktop/lacapsule/project/07_locapic/part4/frontend/screens/HomeScreen.js"],"names":["React","useEffect","useState","connect","AsyncStorage","Button","Input","Text","FontAwesome","HomeScreen","props","pseudo","setPseudo","welcome","getItem","error","data","type","name","color","styles","input","value","container","require","image","button","marginRight","onSubmitPseudo","navigation","navigate","screen","setItem","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","height","width","resizeMode","alignSelf","borderRadius","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { StyleSheet, View, ImageBackground } from 'react-native';\n\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nimport { Button, Input, Text } from 'react-native-elements';\nimport { FontAwesome } from '@expo/vector-icons';\n\nexport function HomeScreen(props) {\n\n    const [pseudo, setPseudo] = useState('')\n\n    useEffect(() => {\n        // AsyncStorage.getItem('pseudo', function (error, data) {\n        //     setPseudo(data)\n        // })\n        var welcome = () => {\n            if (pseudo == AsyncStorage.getItem('pseudo', function (error, data) {\n                setPseudo(data)\n            })) {\n                return (\n                    <Text>Welcome back {pseudo}</Text>\n                )\n            } else {\n                return (\n                    <Input\n                        placeholder=\"John\"\n                        leftIcon={{ type: 'font-awesome', name: 'user', color: '#eb4d4b' }}\n                        containerStyle={styles.input}\n                        onChangeText={(value) => setPseudo(value)}\n    \n                    />)\n            }\n        }\n\n    }, [])\n    \n    var welcome = () => {\n        if (pseudo == AsyncStorage.getItem('pseudo', function (error, data) {\n            setPseudo(data)\n        })) {\n            return (\n                <Text>Welcome back {pseudo}</Text>\n            )\n        } else {\n            return (\n                <Input\n                    placeholder=\"John\"\n                    leftIcon={{ type: 'font-awesome', name: 'user', color: '#eb4d4b' }}\n                    containerStyle={styles.input}\n                    onChangeText={(value) => setPseudo(value)}\n\n                />)\n        }\n    }\n\n    return (\n        <View style={styles.container}>\n            <ImageBackground source={require('../assets/home.jpg')} style={styles.image}>\n                {/* <Input\n                    placeholder=\"John\"\n                    leftIcon={{ type: 'font-awesome', name: 'user', color: '#eb4d4b' }}\n                    containerStyle={styles.input}\n                    onChangeText={(value) => setPseudo(value)}\n\n                /> */}\n                <Button\n                    buttonStyle={styles.button}\n                    icon={\n                        <FontAwesome\n                            name=\"arrow-right\"\n                            size={20}\n                            color=\"#eb4d4b\"\n                            style={{ marginRight: 5 }}\n                        />\n                    }\n                    title='Go to Map'\n                    onPress={() => { props.onSubmitPseudo(pseudo); props.navigation.navigate('TabNavigator', { screen: 'Map' }), AsyncStorage.setItem(\"pseudo\", pseudo) }}\n                />\n            </ImageBackground>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#fff',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    image: {\n        flex: 1,\n        justifyContent: 'center',\n        height: '100%',\n        width: '100%',\n        resizeMode: 'cover'\n    },\n    button: {\n        width: 140,\n        alignSelf: 'center',\n        borderRadius: 20\n    },\n    input: {\n        color: '#fff',\n        width: '70%',\n        alignSelf: 'center'\n    }\n});\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        onSubmitPseudo: function (pseudo) {\n            dispatch({ type: 'savePseudo', pseudo: pseudo })\n        }\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(HomeScreen);\n"]},"metadata":{},"sourceType":"module"}